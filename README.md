# 라즈베리파이 피코 USB HID 볼륨 컨트롤러

이 프로젝트는 **라즈베리파이 피코**와 **로터리 엔코더(KY-040)**, **네오픽셀 LED 링**을 사용하여 컴퓨터의 볼륨과 미디어 재생을 제어하는 커스텀 **USB HID (Human Interface Device) 볼륨 컨트롤러**를 만드는 방법을 안내합니다. 모든 제어 로직은 \*\*서킷파이썬(CircuitPython)\*\*을 기반으로 동작하며, 컴퓨터에 별도의 드라이버 설치 없이 즉시 사용할 수 있습니다.

PC에 USB로 연결하기만 하면 별도의 드라이버 설치 없이 바로 작동하며, 시각적으로 화려한 피드백을 제공합니다.

## ✨ 주요 기능 (Features)

-   **볼륨 조절**: 로터리 엔코더를 돌려 시스템 볼륨을 직관적으로 조절합니다.
    
-   **재생/일시정지**: 엔코더의 스위치를 눌러 미디어를 재생하거나 일시정지합니다.
    
-   **시각적 피드백**: 네오픽셀 LED 링을 통해 현재 상태를 한눈에 파악할 수 있습니다.
    
    -   ✨ **평상시**: 은은하고 부드러운 무지개 애니메이션이 표시됩니다.
        
    -   🔊 **볼륨 조절**: 볼륨 크기에 따라 색상(녹색/노란색/빨간색)이 변하는 막대 그래프가 표시됩니다.
        
    -   ⏯️ **재생/일시정지**: 버튼을 누를 때마다 상태에 따라 녹색 또는 빨간색으로 깜빡입니다.
        
-   **플러그 앤 플레이**: 표준 USB HID 장치로 인식되어 어떤 OS에서든 바로 사용할 수 있습니다.

## 🛠️ 부품 목록 (Materials)

이 프로젝트를 만들기 위해 필요한 주요 부품들은 다음과 같습니다:

-   **라즈베리파이 피코 (Raspberry Pi Pico):** 프로젝트의 핵심이 되는 마이크로컨트롤러 보드입니다.
    
-   **로터리 엔코더 모듈 (KY-040):** 회전 및 푸시 버튼 입력을 처리하는 센서 모듈입니다.
    
-   **네오픽셀 LED 링 (Adafruit NeoPixel Ring):** 12개 이상의 LED가 포함된 링 형태의 네오픽셀 모듈을 권장합니다. (코드 기준 12개)
    
-   **점퍼 와이어:** 각 부품을 라즈베리파이 피코에 연결하는 데 사용됩니다.
    
-   **USB Micro-B 케이블:** 라즈베리파이 피코를 컴퓨터에 연결하고 전원을 공급합니다.
    

## 🔌 회로 연결 (Wiring Diagram)

각 부품을 아래 표에 따라 라즈베리파이 피코에 연결합니다. 전원(VBUS, 3V3, GND) 연결에 특히 주의해 주세요.

-   **로터리 엔코더 (KY-040) 연결:**
    
    -   `CLK` 핀 → 라즈베리파이 피코 **GP12**
        
    -   `DT` 핀 → 라즈베리파이 피코 **GP11**
        
    -   `SW` 핀 → 라즈베리파이 피코 **GP10**
 
    -   `+` (VCC) 핀 → 라즈베리파이 피코 **3.3V** 또는 **VBUS** 핀 (엔코더 작동 전압에 따라 선택)
        
    -   `GND` 핀 → 라즈베리파이 피코 **GND** 핀
        
        
-   **네오픽셀 LED 링 연결:**
    
    -   데이터 입력 핀 (`DI` 또는 `IN`) → 라즈베리파이 피코 **GP6**
        
    -   `GND` 핀 → 라즈베리파이 피코 **GND** 핀
        
    -   `+5V` 핀 → 라즈베리파이 피코 **VBUS** 핀 (USB 5V) 또는 안정적인 외부 5V 전원 (LED 개수가 많을 경우 외부 전원 권장)
        

## ⚙️ 소프트웨어 설정 (Software Setup)

이 프로젝트는 **서킷파이썬(CircuitPython)** 을 기반으로 동작합니다. 아래 단계를 순서대로 따라주세요.

### 1\. 서킷파이썬(CircuitPython) 설치

1.  \*\*[서킷파이썬 공식 홈페이지](https://circuitpython.org/board/raspberry_pi_pico/)\*\*에 접속하여 라즈베리파이 피코용 최신 버전의 `.uf2` 파일을 다운로드합니다.
    
2.  피코 보드의 **BOOTSEL** 버튼을 누른 상태로 PC와 USB로 연결합니다.
    
3.  PC에 `RPI-RP2` 라는 이름의 이동식 드라이브가 나타나면, 다운로드한 `.uf2` 파일을 이 드라이브로 드래그하여 복사합니다.
    
4.  복사가 완료되면 피코가 자동으로 재부팅되며, PC에 `CIRCUITPY` 드라이브가 나타납니다.
    

### 2\. 필수 라이브러리 설치

프로젝트 실행에 필요한 라이브러리들을 `CIRCUITPY` 드라이브의 `lib` 폴더에 복사해야 합니다.

1.  **[서킷파이썬 라이브러리 번들](https://circuitpython.org/libraries)** 페이지에서 최신 버전의 번들을 다운로드합니다. (`adafruit-circuitpython-bundle-*.zip`)
    
2.  다운로드한 파일의 압축을 풉니다.
    
3.  압축 해제된 폴더 안의 `lib` 폴더에서 아래 항목들을 찾아 복사합니다.
    
    -   `adafruit_hid` (폴더 전체)
        
    -   `neopixel.mpy` (파일)
        
    -   `adafruit_pixelbuf.mpy` (파일, neopixel의 의존성 라이브러리)
        
4.  복사한 파일과 폴더를 `CIRCUITPY` 드라이브 내의 `lib` 폴더에 붙여넣습니다. (`lib` 폴더가 없다면 새로 만들어주세요.)
    

### 3\. 코드 복사

**volume_controller.py** 전체 코드를 복사하여 `CIRCUITPY` 드라이브에 `code.py` 라는 이름의 파일로 저장합니다. 저장하는 즉시 코드가 자동으로 실행됩니다.
